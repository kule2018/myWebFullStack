<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="root"></div>
    <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1525327929710&di=9aa2bd5e32164164df56390f0b71040a&imgtype=jpg&src=http%3A%2F%2Fimg2.imgtn.bdimg.com%2Fit%2Fu%3D2439355652%2C1852440864%26fm%3D214%26gp%3D0.jpg
    " alt="" />
    <script>
        // $ jQuery 在window下暴露的唯一的命名空间
        // $()   $是=> function
        // （）里面的function (){} 是参数
        
        (function(g){
            g.$ = function (param) {
                // 里面只有jquery可以访问的，外面访问不到，立即执行，函数作用域 好处
                var ElementWrapper = function (selector) {
                    this.ele=document.querySelector(selector)
                    if(!this.ele){
                        throw new Error('没有这个元素');
                    }
                }
                // jQuery的野心，对原生api的封装
                // js原生api有很多兼容性问题，选择jquery主要原因
                ElementWrapper.prototype = {
                    html:function(strHTML) {
                        this.ele.innerHTML = strHTML;
                    }
                }
                if (typeof param === 'function') {
                    document.addEventListener('DOMContentLoaded',param,false);
                } else if (typeof param === 'string') {
                    // 返回节点
                    // obj.html()
                    // ele.innerHTML
                    // dom 结点 => 类
                    const obj = new ElementWrapper(param);
                    return obj;
                }
                // 整个dom树的顶级对象
                // 事件注册
                
            }
        })(window)        //window不写也可以

        $(function(){
            $('#root').html('莹宝最漂亮了!!!');
        })
        // image 节点 node
        // node节点形成了DOM树
        // dom api appendChild  .style.background
        // 原材料 html css 
        // 树成型了后，触发dom ready事件
        // 解析HTML构建DOM Tree
        // 构建渲染树（解析css）
        // 布局渲染树
        // 页面的绘制 render
        // window.onload    网页资源下载完成   http请求的都是资源  img  script
        // js 下载有阻塞    放到底部，如果需求并不复杂，为了加快速度，选择弃用框架
        
        //页面加载完成
        // 早一点，DOM Ready事件
    </script>
</body>
</html>